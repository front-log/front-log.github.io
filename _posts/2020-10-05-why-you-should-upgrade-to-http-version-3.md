---
layout: post
title: "HTTP/3로 업그레이드해야 하는 이유"
author: "Front Log"
thumbnail: "https://blog.logrocket.com/wp-content/uploads/2020/10/why-you-should-upgrade-to-http-version-3.png"
tags: 
---


![image](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2020/10/why-you-should-upgrade-to-http-version-3.png?fit=730%2C487&ssl=1)

여러분이 멈춰서서 생각해보면, 웹의 엄청난 복잡성과 엄청난 폭에 휩쓸리지 않기란 쉽지 않습니다. 같은 맥락에서, 인터넷을 가능하게 하는 복잡한 기술들을 당연하게 여기기 쉽습니다.

이 가이드에서는 인터넷의 기본 구성 요소 중 하나인 HTTP에 초점을 맞춥니다. 정확히 어떤 기능이 있는지 논의하고 아직 업그레이드하지 않은 경우 HTTP/3로 업그레이드해야 하는 이유에 대해 설명하겠습니다.

## HTTP란?

간단히 말해 HTTP는 사용자가 다른 웹 서버에서 정보와 파일에 액세스할 수 있도록 하는 프로토콜입니다.

HTTP는 하이퍼텍스트 전송 프로토콜(Hypertext Transfer Protocol)의 약자로, 웹 페이지가 서버에서 브라우저로 전달되는 방식을 정의하는 규칙 집합입니다. 암호화를 용이하게 하는 것과 동일한 프로토콜입니다.

Mozilla에 따르면, "HTTP는 클라이언트-서버 프로토콜입니다. 요청은 하나의 엔티티, 사용자-에이전트(또는 이를 대신하여 프록시)에 의해 전송됩니다. 대부분의 경우 사용자-에이전트는 브라우저일 수 있지만 예를 들어 검색 엔진 인덱스를 채우고 유지하기 위해 온라인으로 크롤링하는 로봇이 될 수 있습니다."

이 모든 통신은 TCP 네트워크를 통해 이루어집니다. TCP는 한 IP 주소에서 다른 IP 주소로 데이터 전송을 처리하는 프로토콜입니다. 서버와 클라이언트를 모두 포함합니다.

## HTTP의 간략한 기록

OSI(Open Systems Interconnections) 규격에 익숙하다면 HTTP는 애플리케이션 계층 프로토콜로, 대역폭 증가에 따라 업그레이드 및 개선할 수 있음을 의미합니다. 이로 인해 프로토콜의 여러 버전이 생성되었습니다.

### HTTP/1

HTTP의 초기 버전은 다음과 같습니다.

- 브라우저 친화적 프로토콜
- 요청과 응답 모두에 대한 리치 메타데이터를 포함하는 헤더 필드(HTTP 버전 번호, 상태 코드, 내용 유형)
- 응답은 하이퍼텍스트에만 국한되지 않습니다. `Content-Type` 헤더는 일반 HTML 이외의 형식(예: 스크립트, 스타일시트, 미디어 등)의 파일 전송을 가능하게 합니다.
- GET, HEAD, POST 방식 지원
- 응답 후 연결이 즉시 종료됨

HTTP/1 프로토콜 내에서 지연 시간의 주요 원인은 헤드라인 차단 문제입니다. 웹 페이지에는 CSS, JavaScript, 글꼴, 이미지, AJAX/XMR 등의 여러 리소스가 필요하므로 브라우저가 서버에 여러 번 요청해야 합니다. 그러나 이러한 모든 리소스가 항상 필요한 것은 아니므로 추가 로드는 모두 시간 낭비가 될 수 있습니다.

HTTP/1.0에서는 브라우저가 다음 요청을 시작하기 전에 응답을 완전히 수신하는 것을 포함하여 요청을 완료해야 했다. 이는 또한 모든 작업을 연속적으로 수행해야 했기 때문에 로드 시간이 증가하게 됩니다. HTTP/1.1은 파이프라인을 도입하여 이 문제를 해결했으며, 이를 통해 웹 브라우저는 이전 요청이 완료될 때까지 기다릴 필요 없이 새로운 요청을 시작할 수 있었다. 이를 통해 대기 시간이 짧은 환경에서 로드 시간을 단축할 수 있었습니다.

### HTTP/2

현재 표준은 HTTP 2로 TCP를 주요 통신 프로토콜로 사용하고 있다.

HTTP/2를 사용하면 동일한 연결을 통해 여러 요청과 응답을 동시에 전송할 수 있습니다. 단점은 모든 요청과 응답이 네트워크 정체로 인한 패킷 손실의 영향을 받을 수 있다는 것이다.

TCP는 한 엔드포인트에서 다른 엔드포인트로 바이트의 전체 스트림을 올바른 순서로 제공합니다. 때때로 네트워크 또는 연결 문제로 인해 바이트 패킷이 손실되거나 손상될 수 있습니다. TCP는 요청을 다시 전송하여 손실된 패킷을 채우려고 시도합니다. 이러한 단일 작업으로 인해 프로세스가 불필요하게 지연될 수 있으며, 이는 자연스럽게 통신 속도와 성능에 영향을 미칩니다. 이것은 본질적으로, 헤드라인 차단 문제입니다.

### HTTP/3

HTTP/3은 전면 차단 문제를 제거하는 것을 목표로 한다. TCP를 통신을 위한 전송 계층으로 사용하는 대신, QUIC(Quick UDP Internet Connections)라는 새로운 전송 계층을 도입한다.

기본적으로 암호화되어 있는 QUIC는 HTTP 트래픽을 가속화하고 보호하도록 설계되었습니다. 그것은 결국 TCP와 TLS를 대체하는 것을 목표로 한다.

Cloudflare에는 다음과 같은 기존 TCP 및 UDP에 비해 QUIC를 사용할 때의 몇 가지 이점이 나열되어 있습니다.

- 기본 제공 보안
- 헤드라인 차단 없음
- QPACK, 새로운 헤더 압축 방식
- 꺾기 반사
- UDP 성능

QUIC와 HTTP 3을 결합하면 헤드라인 차단 문제를 해결하고 이전 표준과 관련된 많은 다른 단점을 해결할 수 있어 웹에서 새로운 성능 시대를 열 수 있다.

## HTTP/3로 업그레이드해야 하는 이유

TCP에서 QUIC로 전환하면 얻을 수 있는 이점은 다음과 같으나 이에 국한되지는 않습니다.

- 대기 시간이 단축됩니다. 구글의 연구에 따르면 QUIC를 사용하면 검색 결과가 3.6%, 유튜브 로딩 시간이 15% 빨라진 것으로 나타났다.
- 네트워크 간 전환은 속도에 거의 또는 전혀 영향을 미치지 않습니다. QUIC의 경우, 이러한 핸드오버 또는 재협상 프로세스가 더 이상 필요하지 않습니다.
- 핸드셰이크 최적화. QUIC는 둘 이상의 핸드셰이크가 아닌 단일 핸드셰이크를 지원하므로 통신의 연결 시간이 늘어납니다.
- 멀티플렉싱. QUIC는 헤드라인 차단 문제를 해결합니다.
- 전방 오류 수정(FEC)
- 혼잡 제어 기능이 개선되었습니다. 최종 옵션이 어떻게 될지는 확실하지 않지만 TCP NewReno를 기반으로 할 것으로 보입니다.

이제 HTTP의 기본 사항, 프로토콜 버전의 기록, 성능 향상을 위한 QUIC 프로토콜의 잠재력을 이해했으므로 HTTP/3로 전환할 수 있는 기본 지식과 동기가 있어야 합니다.