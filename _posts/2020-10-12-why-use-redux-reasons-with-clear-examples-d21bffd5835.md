---
layout: post
title: "Redux를 사용하는 이유는 무엇입니까? 예제가 있는 자습서"
author: "Front Log"
thumbnail: "https://blog.logrocket.com/wp-content/uploads/2018/08/why-use-redux.png"
tags: 
---


![image](https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2018/08/why-use-redux.png?fit=730%2C487&ssl=1)

편집자 참고: 본 React Redux 튜토리얼은 2021년 1월 28일에 Redux 미들웨어에 대한 섹션을 포함하고 오래된 정보를 제거하기 위해 마지막으로 업데이트되었습니다.

웹 개발을 위한 도구와 라이브러리의 수가 많기 때문에(JavaScript 라이브러리는 읽기를 마치기 전에 릴리스되었을 가능성이 있음) 이점을 제대로 이해하지 못하거나 사용해야 하는 이유를 알지 못한 채 모든 새 라이브러리를 사용하는 것이 가장 현명한 일은 아닐 수 있습니다.

Redux는 새로운 것은 아니지만 여전히 꽤 인기가 있다. 이 튜토리얼에서는 Redux가 무엇인지, 사용해야 하는 이유 및 작동 방식을 보여드리겠습니다.

먼저, Redux의 기본 사항 및 작동 방식을 살펴보겠습니다. 그런 다음 단순하지만 실용적인 구성 요소를 사용하여 Redux를 사용하는 것이 앱에서 어떻게 도움이 되는지 알아보겠습니다.

다음 사항에 대해 자세히 설명합니다.

- Redux란 무엇인가?
- Redux 사용 시기
- Redux의 상태 관리는 무엇입니까?
- Redux의 작동 방식
- 중복 미들웨어
- Redux를 사용하는 이유는 무엇입니까?

## Redux란 무엇인가?

Redux는 클라이언트, 서버 및 기본 환경에서 일관성 있게 작동하며 테스트하기 쉬운 JavaScript 앱을 작성할 수 있도록 설계된 예측 가능한 상태 컨테이너입니다.

대부분 React와 함께 상태 관리 도구로 사용되지만 다른 JavaScript 프레임워크 또는 라이브러리와 함께 사용할 수 있습니다. 2KB(종속성 포함)로 가벼우므로 애플리케이션의 자산 크기를 늘릴 염려가 없습니다.

Redux를 사용하면 응용 프로그램의 상태가 저장소에 유지되고 각 구성 요소가 이 저장소에서 필요한 모든 상태에 액세스할 수 있습니다.

지금 막 Redux를 시작하고 계신다면 아래의 동영상은 초보자들에게 좋은 자료입니다.

## Redux 사용 시기

최근 프런트엔드 세계에서 가장 큰 논쟁 중 하나는 레드삭스에 관한 것이다. 개봉한 지 얼마 되지 않아, Redux는 가장 뜨거운 토론 주제 중 하나가 되었다. 많은 사람들이 그것을 선호했고 다른 사람들은 쟁점을 지적했다.

Redux를 사용하면 앱의 상태를 한 곳에서 관리하고 앱의 변경 사항을 보다 예측 가능하고 추적할 수 있습니다. 그러면 앱에서 발생하는 변경 사항을 쉽게 추론할 수 있습니다. 그러나 이러한 모든 이점은 트레이드오프와 제약으로 인해 발생합니다. 어떤 사람들은 그것이 단순한 것들을 약간 압도적으로 만들면서 보일러 코드를 합친다고 느낄 수 있지만, 그것은 아키텍처의 결정에 달려 있습니다.

이 질문에 대한 간단한 답변 중 하나는 Redux가 필요할 때 스스로 깨닫게 된다는 것입니다. 만약 당신이 그것이 필요한지 아닌지 여전히 혼란스럽다면, 당신은 그렇지 않다. 일반적으로 앱 상태 관리가 번거로워지는 규모로 앱이 확장될 때 이러한 현상이 발생합니다. 쉽고 간편하게 앱을 관리할 수 있도록 주의해야 합니다.

## Redux의 상태 관리는 무엇입니까?

상태 관리는 구성요소 간에 데이터 통신 및 공유를 용이하게 하는 방법입니다. 읽고 쓸 수 있는 앱의 상태를 나타내는 실질적인 데이터 구조를 생성합니다. 이렇게 하면, 여러분이 그들과 함께 일하는 동안 보이지 않는 다른 상태들을 볼 수 있습니다.

반응, 각도 등과 같은 대부분의 라이브러리는 외부 라이브러리나 도구가 필요 없이 구성 요소가 내부적으로 상태를 관리하는 방식으로 구축됩니다. 구성 요소가 거의 없는 애플리케이션에는 유용하지만, 애플리케이션이 커질수록 구성 요소 간에 공유되는 상태를 관리하는 것은 번거로운 일이 됩니다.

데이터가 구성 요소 간에 공유되는 앱에서 실제로 상태가 어디에 위치해야 하는지 알 수 없어 혼란스러울 수 있습니다. 이상적으로는 구성 요소의 데이터가 하나의 구성 요소에만 상주해야 하므로 형제 구성 요소 간에 데이터를 공유하기가 어려워집니다.

예를 들어, 대응에서 형제 간에 데이터를 공유하려면 상태가 상위 구성 요소에 있어야 합니다. 이 상태를 업데이트하는 방법은 상위 구성 요소에 의해 제공되며 이러한 형제 구성 요소에 소품으로 전달됩니다.

다음은 React의 로그인 구성 요소의 간단한 예입니다. 로그인 구성 요소의 입력은 형제 구성 요소인 상태 구성 요소에 의해 표시되는 내용에 영향을 미칩니다.

```cpp
class App extends React.Component {
  constructor(props) {
    super(props);
    // First the Parent creates a state for what will be passed
    this.state = { userStatus: "NOT LOGGED IN"}
    this.setStatus = this.setStatus.bind(this);
  }
  // A method is provided for the child component to update the state of the
  // userStatus
  setStatus(username, password) {
    const newUsers = users;
    newUsers.map(user => {
      if (user.username == username && user.password === password) {
        this.setState({
          userStatus: "LOGGED IN"
        })
      }
    });
  }
 
  render() {
    return (
      <div>
        // the state is passed to the sibling as a props as is updated whenever
        // the child component changes the input
        <Status status={this.state.userStatus} />
        // this method is passed to the child component as a props which it
        // uses to change the state of the userStatus
        <Login handleSubmit={this.setStatus} />
      </div>
    );
  }
});
```

> 💡 상기 데이터는 상위 구성요소에 필요하지 않지만, 하위 구성요소에 데이터를 공유해야 하기 때문에 상태를 제공해야 합니다.

이제 구성 요소 트리에서 멀리 떨어져 있는 구성 요소 간에 상태가 공유되어야 할 때 어떤 일이 일어나는지 상상해 보십시오. 상태가 필요한 곳에 도달할 때까지 한 구성 요소에서 다른 구성 요소로 전달되어야 합니다.

기본적으로 상태는 가장 가까운 상위 구성요소까지 상승해야 하고, 상태를 필요로 하는 두 구성요소에 공통적인 조상에 도달할 때까지 다음 요소로 상승해야 합니다. 이것은 국가를 유지하기 어렵고 예측하기 어렵게 만든다. 또한 데이터가 필요하지 않은 구성 요소에 데이터를 전달하는 것을 의미합니다.

앱이 복잡해질수록 국가관리가 어지러워지는 것은 분명하다. 따라서 이러한 상태를 더 쉽게 유지할 수 있는 Redux와 같은 상태 관리 도구가 필요합니다. 이점을 고려하기 전에 Redux 개념에 대해 자세히 살펴보겠습니다.

## Redux의 작동 방식

Redux가 일하는 방법은 간단하다. 응용 프로그램의 전체 상태를 저장하는 중앙 저장소가 있습니다. 각 구성 요소는 한 구성 요소에서 다른 구성 요소로 소품을 보낼 필요 없이 저장된 상태에 액세스할 수 있습니다.

건물 부분에는 세 가지가 있습니다: 작용, 저장 및 감쇠기. 각자 하는 일에 대해 간단히 토론해 봅시다. 이는 Redux의 이점 및 사용 방법을 이해하는 데 도움이 되기 때문에 중요합니다. 위의 로그인 구성 요소와 유사한 예를 구현하지만 이번에는 Redux에서 구현합니다.

### Redux의 작업

간단히 말해서, 행동은 사건이다. 이러한 방법은 응용 프로그램에서 Redux 저장소로 데이터를 보낼 수 있는 유일한 방법입니다. 데이터는 사용자 상호 작용, API 호출 또는 양식 제출에서 얻을 수 있습니다.

작업은 `store.dispatch() 메서드를 사용하여 전송됩니다. 작업은 일반 JavaScript 개체이며 수행할 작업 유형을 나타내는 유형 속성이 있어야 합니다. 또한 작업에 의해 작업되어야 하는 정보를 포함하는 페이로드가 있어야 합니다. 액션 작성자를 통해 작업이 만들어집니다.

다음은 앱에서 로그인하는 동안 수행할 수 있는 작업의 예입니다.

```css
{ 
  type: "LOGIN",
  payload: {
    username: "foo",
    password: "bar"
  }
}
```

다음은 작업 생성자의 예입니다.

```coffeescript
const setLoginStatus = (name, password) => {
  return {
    type: "LOGIN",
    payload: {
      username: "foo",
      password: "bar"
    }
  }
}
```

앞에서 설명한 대로 작업은 형식 속성을 포함하고 그 다음 저장할 다른 페이로드를 포함해야 합니다.

### Redux의 리듀서

리듀서는 애플리케이션의 현재 상태를 취하고, 작업을 수행하고, 새 상태를 반환하는 순수한 함수입니다. 이러한 상태는 개체로 저장되며 저장소에 전송된 액션에 대응하여 응용 프로그램의 상태가 어떻게 변경되는지 지정합니다.

자바스크립트의 reduce 함수에 기반하여 콜백 함수가 수행된 후 여러 값에서 단일 값이 계산된다.

다음은 Redux에서 감압기가 작동하는 방법의 예입니다.

```js
const LoginComponent = (state = initialState, action) => {
    switch (action.type) {

      // This reducer handles any action with type "LOGIN"
      case "LOGIN":
          return state.map(user => {
              if (user.username !== action.username) {
                  return user;
              }

              if (user.password == action.password) {
                  return {
                      ...user,
                      login_status: "LOGGED IN"
                  }
              }
          });
default:
          return state;
      } 
};
```

> 💡 리듀서들은 앱의 이전 상태를 확인하고 전달된 동작에 따라 새로운 상태를 반환합니다.

순수 함수로서 전달된 개체의 데이터를 변경하거나 애플리케이션에서 부작용을 수행하지 않습니다. 동일한 개체가 주어지면 항상 동일한 결과를 생성해야 합니다.

### Redux에 저장

스토어는 응용 프로그램 상태를 유지합니다. 어떤 Redux 애플리케이션에서도 하나의 스토어만 유지하는 것이 좋습니다. 도우미 방법을 통해 저장된 상태에 액세스하고, 상태를 업데이트하고, 수신기를 등록하거나 등록 취소할 수 있습니다.

로그인 앱의 저장소를 생성해 보겠습니다.

```cpp
const store = createStore(LoginComponent);
```

상태에 대해 수행되는 작업은 항상 새 상태를 반환합니다. 따라서, 상태는 매우 쉽고 예측이 가능합니다.

이제 Redux에 대해 조금 더 자세히 알아보았으므로 앞에서 구현한 로그인 구성 요소 예제로 돌아가서 Redux가 구성 요소를 어떻게 개선할 수 있는지 살펴보겠습니다.

```coffeescript
class App extends React.Component {
    render() {
        return (
            <div>
                <Status user={this.props.user.name}/>
                <Login login={this.props.setLoginStatus}/>
            </div>
        )
    }
}
```

Redux를 사용하면 저장소에 하나의 일반 상태가 있으며 각 구성 요소가 해당 상태에 액세스할 수 있습니다. 따라서 한 구성 요소에서 다른 구성 요소로 상태를 계속 전달할 필요가 없습니다. 저장소에서 특정 구성 요소의 슬라이스를 선택할 수도 있습니다. 이렇게 하면 앱이 더욱 최적화됩니다.

## 중복 미들웨어

Redux를 사용하면 개발자가 구성 요소에서 전송된 모든 작업을 축소 함수로 전달하기 전에 가로챌 수 있습니다. 이 차단은 미들웨어를 통해 수행됩니다.

마지막 섹션에서 설명한 로그인 구성 요소 예제를 기반으로 추가 처리를 위해 저장소에 도달하기 전에 사용자의 입력을 검사해야 할 수 있습니다. 이 작업은 Redux 미들웨어를 통해 수행할 수 있습니다.

기술적으로 미들웨어는 현재 동작을 처리한 후 인수에서 받은 다음 메서드를 호출하는 함수입니다. 모든 파견 후에 호출됩니다.

간단한 미들웨어는 다음과 같습니다.

```js
function simpleMiddleware({ getState, dispatch }) {
  return function(next){
    return function(action){
      // processing
      const nextAction = next(action);
      // read the next state
      const state = getState();
      // return the next action or you can dispatch any other action
      return nextAction;  
    }
  }
}
```

다소 부담스러워 보일 수도 있지만, 대부분의 경우 대규모 Redux 커뮤니티에서 이미 많은 미들웨어를 사용할 수 있게 되었기 때문에 자신만의 미들웨어를 만들 필요가 없을 수도 있습니다. 미들웨어가 필요하다고 느낀다면 최고의 추상화로 엄청난 양의 훌륭한 작업을 할 수 있는 많은 힘을 주기 때문에 즐길 수 있을 것이다.

## Redux를 사용하는 이유는 무엇입니까?

React와 함께 Redux를 사용할 경우 상태를 더 이상 올릴 필요가 없습니다. 이렇게 하면 변경 원인이 되는 작업을 쉽게 추적할 수 있습니다.

위의 예에서 볼 수 있듯이 구성 요소는 하위 구성 요소가 데이터를 서로 공유할 수 있는 상태나 방법을 제공할 필요가 없습니다. 모든 것은 Redux에 의해 처리된다. 이렇게 하면 앱이 크게 단순화되고 유지 관리가 쉬워집니다.

이것이 여러분이 Redux를 사용해야 하는 주된 이유이지만, 이것이 유일한 이점은 아닙니다. 상태 관리에 Redux를 사용하여 얻을 수 있는 이점을 요약하려면 아래 목록을 살펴보십시오.

### Redux는 상태를 예측할 수 있게 합니다.

Redux에서는 상태를 항상 예측할 수 있습니다. 동일한 상태 및 작용이 감쇠기에 전달되면 감쇠기는 순수한 함수이기 때문에 항상 동일한 결과가 생성됩니다. 그 상태 또한 불변하며 결코 변하지 않는다. 이를 통해 무한 실행 취소 및 다시 실행과 같은 어려운 작업을 구현할 수 있습니다. 또한 이전 상태 사이를 왔다 갔다 하며 실시간으로 결과를 볼 수 있는 시간 여행을 구현할 수도 있습니다.

### Redux는 유지 관리가 가능합니다.

Redux는 코드가 어떻게 구성되어야 하는지에 대해 엄격하기 때문에 Redux에 대해 아는 사람이 Redux 애플리케이션의 구조를 더 쉽게 이해할 수 있다. 이것은 일반적으로 유지관리가 더 쉬워집니다. 또한 이를 통해 비즈니스 로직을 구성요소 트리에서 분리할 수 있습니다. 대규모 앱의 경우 앱을 보다 예측 가능하고 유지 관리할 수 있도록 유지하는 것이 중요합니다.

### Redux에서는 디버깅이 쉽습니다.

중복을 사용하면 응용 프로그램을 쉽게 디버깅할 수 있습니다. 작업 및 상태를 로깅하면 코딩 오류, 네트워크 오류 및 프로덕션 중에 발생할 수 있는 다른 형태의 버그를 쉽게 이해할 수 있습니다.

기록 외에도 시간 이동 작업, 페이지 새로 고침 시 지속 작업 등을 수행할 수 있는 훌륭한 DevTools가 있습니다. 중규모 및 대규모 앱의 경우 디버깅이 실제 기능 개발보다 더 많은 시간이 걸립니다. Redux DevTools를 사용하면 Redux가 제공하는 모든 기능을 쉽게 활용할 수 있습니다.

### 성능 이점

앱의 상태를 글로벌 상태로 유지하면 성능이 다소 저하될 수 있다고 가정할 수 있습니다. 대체로 그렇지는 않다.

React Redux는 내부적으로 많은 성능 최적화를 구현하여 실제로 필요한 경우에만 자체 연결된 구성 요소가 다시 렌더링되도록 합니다.

### 테스트 용이성

순수함수의 상태를 변화시키는 기능을 사용했기 때문에 Redux 앱을 테스트하기 쉽다.

### 상태 지속성

앱의 일부 상태를 로컬 저장소에 유지하고 새로 고침 후 복원할 수 있습니다. 이건 정말 근사할 수 있어요.

### 서버측 렌더링

Redux는 서버측 렌더링에도 사용할 수 있습니다. 이 기능을 사용하면 앱의 상태를 서버 요청에 대한 응답과 함께 서버로 전송하여 앱의 초기 렌더링을 처리할 수 있습니다. 그런 다음 필요한 구성 요소가 HTML로 렌더링되어 클라이언트로 전송됩니다.

## 결론

Redux의 주요 기능과 Redux가 귀사의 애플리케이션에 유용한 이유에 대해 논의했습니다. Redux는 이점을 제공하지만 그렇다고 해서 모든 애플리케이션에 Redux를 추가해야 하는 것은 아닙니다. Redux가 없어도 애플리케이션이 제대로 작동할 수 있습니다.

Redux의 주요 이점 중 하나는 "무엇이 일어났는지"와 "어떻게 상황이 변하는지"를 분리하는 방향을 추가하는 것이다. 그러나 프로젝트에 상태 관리 도구가 필요하다고 판단되는 경우에만 Redux를 구현해야 합니다.