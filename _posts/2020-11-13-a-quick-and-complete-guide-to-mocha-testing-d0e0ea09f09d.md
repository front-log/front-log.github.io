---
layout: post
title: "Mocha.js, JavaScript 테스트 프레임워크: 튜토리얼"
author: "Front Log"
thumbnail: "https://blog.logrocket.com/wp-content/uploads/2018/08/moca-js-javascript-test-framework.png"
tags: 
---


![image](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2018/08/moca-js-javascript-test-framework.png?fit=730%2C487&ssl=1)

어떤 앱을 만들고 있든 배포 전에 항상 테스트해야 합니다.

Jest, Jasmine, Qunit, Karma, Cypress 등 수많은 테스트 프레임워크가 제공됩니다. 자바스크립트를 위한 가장 인기 있는 테스트 프레임워크 중 하나는 Mocha.js이다.

이 포괄적인 튜토리얼에서는 자체 테스트 스위트 작성 및 브라우저에서 Mocha 테스트 실행을 포함하여 Mocha.js를 사용하여 Node.js 앱을 테스트하는 방법을 시연합니다.

다음 사항에 대해 자세히 설명합니다.

- Mocha.js란?
- Mocha.js는 무엇에 사용됩니까?
- Mocha.js는 BDD 도구입니까?
- Node.js에서 Mocha 테스트 실행
- Mocha.js로 테스트 쓰기
- Mocha.js 및 Chai.js 사용
- Mocha.js BDD 인터페이스 사용
- Mocha.js를 사용하여 테스트 제품군 작성
- Mocha.js를 사용하여 비동기 코드 테스트
- Mocha.js와 함께 테스트 후크 사용
- Mocha `description()`이란?
- Mocha.js 테스트 제어
- Mocha.js CLI 옵션
- 브라우저의 Mocha.js

## Mocha.js란?

Mocha.js는 Node.js와 브라우저에서 실행되는 오픈 소스 자바스크립트 테스트 프레임워크이다. 매우 간단한 인터페이스를 통해 동기식 및 비동기식 코드를 모두 테스트하도록 설계되었습니다.

Mocha.js는 일련의 테스트를 실행하여 유연하고 정확한 보고를 제공하는 동시에 미수치 예외를 해당 테스트 사례에 매핑합니다.

## Mocha.js는 무엇에 사용됩니까?

Mocha.js는 특정 순서로 실행되는 기능을 제공하고 결과를 터미널 창에 기록합니다. 또한 테스트 중인 소프트웨어의 상태를 정리하여 테스트 사례가 서로 독립적으로 실행되도록 합니다.

대부분의 어설션 라이브러리와 함께 사용될 수 있지만, Mocha.js는 일반적으로 Node.js 및 브라우저용 인기 어설션 라이브러리인 Chai와 함께 사용된다.

## Mocha.js는 BDD 도구입니까?

Mocha.js는 TSS, Exports, Qunit 및 Require를 포함한 테스트 제품군, 후크 및 개별 테스트를 정의하기 위한 다양한 인터페이스를 제공합니다. 기본 인터페이스는 BDD입니다.

행동 중심 개발(BDD)은 개발자가 예측 가능하고, 변화에 탄력적이며, 오류 발생 가능성이 없는 소프트웨어를 구축할 수 있도록 돕는 것을 목표로 한다. TDD(Test-Driven Development)에서 발전하여 다음을 수행해야 합니다.

- 필요한 소프트웨어 기능에 대한 쓰기 테스트
- 소프트웨어 기능에 대한 테스트 실행
- 소프트웨어 기능 구현
- 모든 테스트가 통과할 때까지 버그 및 리팩터 수정
- 새 기능에 대해 사이클을 반복합니다.

TDD와 BDD의 가장 큰 차이점은 BDD는 테스트 사례를 공유 언어로 작성하여 개발자, QA팀, 비즈니스 리더 등 기술 이해 관계자와 비기술 이해당사자 간의 커뮤니케이션을 단순화해야 한다는 것이다.

## Node.js에서 Mocha 테스트 실행

먼저 로컬 컴퓨터에 전체적으로 또는 프로젝트의 종속성으로 Mocha.js를 설치해야 합니다.

npm을 사용하여 전역으로 설치하는 방법은 다음과 같습니다.

```coffeescript
npm i --global mocha
```

프로젝트의 개발 종속성으로 Mocha를 설치하려면:

```coffeescript
npm i --save-dev mocha
```

로컬 시스템에 Mocha.js를 전체적으로 설치하면 명령줄 터미널에서 `mocha` CLI 바이너리를 사용할 수 있습니다. 터미널에서 Mocha를 사용하여 테스트를 실행할 수 있습니다.

```undefined
mocha
```

프로젝트의 개발 종속성으로만 Mocha.js를 설치한 경우 프로젝트의 `node_modules` 디렉토리에서 `mocha` 바이너리에 액세스할 수 있습니다.

```undefined
./node_modules/mocha/bin/mocha
```

Mocha.js 설정을 완료하려면 매우 간단한 기능에 대한 단위 테스트를 작성하고 Mocha를 사용하여 테스트를 실행하도록 스크립트를 구성해야 합니다.

Mocha.js는 프로젝트의 `test` 디렉토리 내에서 테스트를 자동으로 찾습니다. 프로젝트 루트에 이 디렉터리를 생성하십시오.

```bash
mkdir test
```

그런 다음 패키지에서 "test" 스크립트를 수정합니다.json은 Mocha를 사용하여 테스트를 실행한다. 다음과 같은 모양이 됩니다.

이 설정을 사용하면 다음 간단한 명령을 사용하여 프로젝트에서 테스트를 간단히 실행할 수 있습니다.

```bash
npm test
```

## Mocha.js로 테스트 쓰기

현재, 우리는 모카와의 테스트를 위해 모든 준비를 마쳤지만, 아직 실행할 테스트는 없습니다. 다음 단계는 소프트웨어의 원하는 기능에 대한 테스트 작성을 시작하는 것입니다.

### Mocha.js 및 Chai.js 사용

쓰기 테스트는 종종 어설션 라이브러리를 사용해야 합니다. Mocha.js는 사용하기로 선택한 어설션 라이브러리에 관계없이 구별하지 않습니다.

Node.js 환경에서 Mocha를 사용하는 경우 기본 제공되는 `assert` 모듈을 어설션 라이브러리로 사용할 수 있습니다. 그러나 Chai, Expect.js, Should.js 등과 같이 사용할 수 있는 보다 광범위한 어설션 라이브러리가 있습니다.

이 가이드의 모든 테스트에 대해 Chai.js를 어설션 라이브러리로 사용합니다.

프로젝트에 종속되어 Chai.s를 설치합니다.

```coffeescript
npm i --save-dev chai
```

Chai는 다음과 같은 어설션 스타일을 제공합니다.

스타일 주장:

스타일 예상:

스타일 지정:

차이 총장이 제공하는 주장과 주장 스타일에 대해 자세히 알아볼 수 있다.

### Mocha.js BDD 인터페이스 사용

BDD 인터페이스를 사용하여 정의한 테스트 제품군은 다음과 같습니다.

### Mocha.js를 사용하여 테스트 제품군 작성

이제 첫 번째 테스트 세트를 작성하고 Mocha와 함께 테스트를 실행할 차례입니다. 시작하려면 다음과 같은 `sum()` 함수를 구현해야 합니다.

- 인수를 여러 개 수락할 수 있습니다.
- 모든 인수를 `숫자`로 지정하고 `숫자`가 아닌 경우 오류를 발생시킵니다.
- 모두 `숫자`인 경우 인수의 합계를 계산하고 반환합니다.
- 인수가 전달되지 않은 경우 `0`을 반환합니다.

먼저 필요한 기능에 대한 테스트를 사용하여 테스트 제품군을 정의합니다.

프로젝트의 `test` 디렉토리에 새 `sum.js` 파일을 만들고 다음 코드 조각을 추가합니다.

sum 모듈은 아직 생성되지 않았지만 테스트 파일에 필요했습니다. 또한 sum() 호출은 "non-number" 인수가 전달될 때 오류가 발생하는지 테스트하는 함수로 싸여 있습니다. 이는 차이 주장 문서에 명시된 .throw() 주장의 요건이다.

다음으로 모듈 내보내기로서 sum() 함수에 대한 기능을 구현하고, 테스트를 실행하고, 모든 테스트가 통과되는지 확인합니다.

다음 코드 조각이 포함된 새 `sum.js` 파일을 프로젝트의 루트 디렉터리에 생성하십시오.

앞에서 정의한 `test` 스크립트를 실행하여 터미널에서 지금 테스트를 실행할 수 있습니다.

```bash
npm test
```

다음과 같은 결과를 얻을 수 있습니다.

## Mocha.js를 사용하여 비동기 코드 테스트

지금까지 작성한 테스트는 동기적으로 실행되는 코드를 포함하는 기능에 대한 것입니다. 그러나 대부분의 Node.js 응용 프로그램은 많은 비동기식 코드를 필요로 한다. Mocha.js는 또한 매우 유사한 구문으로 비동기 코드를 테스트하기 쉽게 한다.

다음 중 하나를 사용하여 Mocha.js로 비동기 코드를 테스트할 수 있습니다.

- 콜백 함수
- 약속(약속을 지원하는 환경의 경우)
- ➡c/➡➡➡➡(동기화 기능을 지원하는 환경의 경우)

이 방법들 각각을 깊이 있게 살펴봅시다.

### 1. 콜백 기능

두 번째 인수로 전달된 함수는 선택적 콜백 함수를 첫 번째 인수로 전달할 수 있습니다. 이 콜백 함수를 통과하면 Mocha.js는 테스트가 비동기 기능을 위한 것임을 알 수 있습니다. 일반적으로 콜백 함수는 done(완료됨)으로 지정되지만 원하는 식별자를 자유롭게 사용할 수 있습니다.

```bash
it('test expectation', function(done) {
// test asynchronous code
// call done() to terminate test and proceed to the next test
}
```

완료 콜백에 대해 몇 가지 유의할 사항이 있습니다.

- Mocha.js를 호출하여 테스트를 종료하고 다음 테스트를 진행해야 합니다. 그렇지 않으면 시간 초과가 도달할 때까지 테스트가 계속 실행됩니다.
- it() 함수 블록 내에서 두 번 이상 호출해서는 안 된다. 여러 번 호출하면 오류가 발생합니다.
- 노드 형식의 콜백이므로 `오류` 인스턴스(`err`)를 첫 번째 인수로 사용할 수 있습니다.
- `오류` 인스턴스를 사용하여 `완료()` 콜백을 호출하면 지정된 오류로 인해 테스트가 실패함

계속하기 전에 문자열의 MD5 해시 계산을 위한 비동기식 md5() 함수를 내보내는 간단한 모듈이 있습니다.

프로젝트의 루트 디렉터리에 새 `md5.js` 파일을 생성하고 다음 내용을 추가하십시오.

다음 코드 조각에는 콜백 함수를 사용하는 이 비동기 함수에 대한 간단한 테스트가 포함되어 있습니다.

프로젝트의 `test` 디렉터리에 새 `md5.js` 파일을 생성하고 다음을 추가하십시오.

지금 터미널에서 테스트를 실행하면 다음과 같은 출력이 생성됩니다.

### 2. 약속

약속에 대한 지원을 받는 환경에서 개발 중인 경우 대부분의 비동기식 운영은 약속에 기반할 가능성이 높습니다. Mocha.js를 사용하면 약속을 사용하는 비동기 코드를 테스트할 수도 있습니다.

`it()에 전달된 함수에서 약속을 반환할 때마다 Mocha는 테스트할 기능이 비동기적이라는 것을 알고 있기 때문에 다음 테스트를 진행하기 전에 약속이 이행될 때까지 기다립니다.

Mocha.js `v3.0.0` 이상에서 약속이 반환될 때 done() 콜백을 호출하면 예외가 발생하며 이는 허용되지 않기 때문이다. 그러나 이전 버전의 Mocha에서는 통화가 무시됩니다.

약속을 사용하는 비동기식 코드를 테스트하기 위해 약속을 기반으로 한 다른 버전의 md5 모듈을 만듭니다.

다음 내용으로 프로젝트의 루트 디렉터리에 새 `promise-md5.js` 파일을 만드십시오.

다음 코드 조각에는 `promise-md5` 모듈에 대한 간단한 테스트 세트가 포함되어 있습니다. 프로젝트의 `test` 디렉토리에 새 `promise-md5.js` 파일을 만들고 다음을 추가하십시오.

이제 약간 수정된 테스트 명령으로 테스트를 실행하십시오.

```bash
npm test -- -f promiseMd5
```

이 명령은 `-—`를 사용하여 명령 옵션 및 인수를 기본 `mocha` CLI 이진에 연결합니다. -f 플래그가 Mocha.js에 지정된 문자열이 포함된 테스트만 실행하도록 지시하며, 이 경우 PromiseMd5입니다.

출력의 모양은 다음과 같습니다.

### 3. 비동기/비동기

최신 비동기/대기 구문을 지원하는 환경의 경우 Mocha.js는 또한 `it()에 대한 두 번째 인수로 비동기 함수 전달을 지원합니다.

이전의 promise-md5.js 테스트는 다음과 같이 다시 작성할 수 있다.

## Mocha.js와 함께 테스트 후크 사용

Mocha.js는 테스트 후크를 만들기 위한 프로비저닝을 만듭니다. 후크는 기본적으로 테스트 전후에 실행되도록 구성된 논리입니다. 테스트의 전제 조건을 설정하거나 테스트 후 리소스를 정리하는 데 유용합니다.

기본 BDD 인터페이스를 사용하는 Mocha.js는 다음 4개의 후크를 제공합니다.

- 블록 내 첫 번째 테스트 사례 전에 `before`가
- 각 테스트 사례 앞에 `각각()` 실행
- 각 테스트 사례의 후 실행()
- After는 블록의 마지막 테스트 사례 이후 한 번 실행됩니다.

지정된 테스트 제품군에 적용되는 후크에 따라 후크는 제품군의 테스트와 함께 확실한 순서로 실행됩니다.

```bash
before() -> beforeEach() -> test() -> afterEach() -> after()
```

### 후크 만들기

각 후크는 기본적으로 콜백 함수를 인수로 사용합니다. 콜백 기능에는 후크가 트리거될 때 실행할 논리가 포함되어 있습니다. 논리는 일반 테스트 사례와 마찬가지로 동기식 또는 비동기식일 수 있습니다.

후크는 또한 선택적 `설명`을 첫 번째 인수로 사용할 수 있어 오류를 추적하기가 더 쉬워진다. 그러나 명명된 함수가 후크에 인수로 전달된 경우, 명시적 설명이 전달되지 않은 경우 함수의 이름이 설명으로 사용됩니다.

### Mocha 'description()'이란?

description() 함수는 Mocha.js에서 테스트를 그룹화하는 방법입니다. 필요할 것으로 생각되는 깊이만큼 그룹 단위로 검정을 중첩할 수 있습니다.

➡➡는 두 가지 주장을 한다.

- 테스트 그룹의 이름
- 콜백 함수

### 루트 제품군

후크가 명확한 `설명()` 블록 외부에 정의될 때마다 후크는 루트 레벨 후크가 된다. 루트 수준 후크는 정의된 위치에 관계없이 모든 테스트 파일에 적용됩니다. 이는 모카가 암시적으로 루트 제품군이라고 하는 `description()` 블록을 만들기 때문이다.

다음 코드 조각에서 모든 파일의 모든 테스트 후에 "after Each() 후크가 트리거됩니다.

테스트 그룹을 실행하기 전에 비동기 작업을 수행하는 경우가 있습니다. Mocha.js를 사용하면 `--delay` 옵션을 사용하여 `mocha` 바이너리를 실행하여 루트 제품군을 지연시킬 수 있습니다.

프로젝트의 테스트 명령은 다음과 같습니다.

```bash
npm test -- --delay
```

이 명령을 실행하면 Mocha.js가 글로벌 컨텍스트에 특수 `run() 콜백 함수를 연결하도록 지시합니다. 실행() 함수를 호출하면 설명된 모든 테스트 그룹을 실행할 수 있습니다. 따라서 테스트를 실행하기 위해 비동기 작업이 완료된 후 run()을 호출할 수 있습니다.

예를 보려면 이전에 만든 테스트 파일에 다음 코드 조각을 추가하십시오(`it() 블록 안에 있으면 안 됩니다).

이제 다음 명령을 사용하여 테스트를 실행하십시오.

```bash
npm test -- --delay
```

테스트가 5초 동안 지연된 후 실행됩니다. 그러나 실행() 방법이 호출되지 않으면 테스트는 실행되지 않습니다.

출력의 모양은 다음과 같습니다.

## Mocha.js 테스트 제어

콜백 함수가 `it()에 대한 두 번째 인수로 전달되지 않을 때마다 테스트 사례가 보류 중으로 표시되고, 이는 테스트가 아직 작성되지 않았음을 나타냅니다. 보류 중인 테스트는 실패한 테스트가 아니며 테스트 결과에 포함됩니다.

### 테스트 포함 및 제외

실행하거나 실행해서는 안 되는 테스트 세트 및 테스트 케이스도 지정할 수 있습니다. Mocha.js는 테스트 스위트와 테스트 케이스의 배타적이고 포괄적인 동작을 제어하기 위한 only()와 skip()의 두 가지 유용한 방법을 제공한다.

제품군의 테스트가 실행되지 않도록 하려면 descript.skip() 방법을 사용하고, 제품군의 테스트가 실행되도록 하려면 descript.only() 방법을 사용합니다.

이는 또한 "it()"를 사용하는 시험 사례에도 적용된다. "it()로 전달된 콜백 함수 내에서 "this.skip()"을 호출하여 런타임에 테스트를 건너뛸 수 있습니다. 이렇게 하면 일부 조건에 따라 동적으로 테스트를 건너뛸 수 있습니다.

this.skip()이라고 부르면 사실상 시험이 중단된다. `this.skip() 호출 후 추가 명령 실행을 피하는 것이 가장 좋은 방법이라고 여겨진다. this.skip()을 사용하여 런타임에 건너뛴 모든 테스트는 보류 중인 테스트로 표시됩니다.

.only() 및 .skip()을 여러 번 사용하여 실행할 일련의 스위트 및 테스트를 선택할 수 있습니다. 그러나 다음 사항에 유의해야 합니다.

- 중첩된 제품군은 계속 실행됩니다.
- 후크가 있는 경우에도 계속 실행됩니다.
- 테스트에 우선합니다.

### Mocha.js 테스트를 다시 시도하는 중

Mocha.js를 사용하면 실패한 테스트를 재시도할 수 있는 횟수를 지정할 수 있습니다. 이 방법은 장치 테스트에는 권장되지 않지만 종단 간 테스트(일부 이유로 일부 외부 리소스를 사용할 수 없는 경우)를 작성할 때 유용할 수 있습니다.

Mocha.js는 실패한 테스트를 재시도할 수 있는 횟수를 지정할 수 있는 `this.retries()` 함수를 제공합니다. 모카는 시도 때마다 각각 전() 후() 후() 후() 후() 후() 후() 후() 후() 후() 후() 후() 후() 후크를 실행하지 않는다.

다음 코드 조각은 사이프레스 테스트 주자를 사용하여 웹 페이지를 방문하는 간단한 예를 보여줍니다. 서버가 `2xx` 이외의 상태 코드로 응답하는 경우, 네트워크 속도가 느리거나 인터넷 연결이 잘못되어 테스트가 실패한 것으로 표시됩니다.

this.retries(5)를 사용하면 테스트를 최대 5번 재시도한 후 실패한 것으로 표시할 수 있습니다.

### Mocha.js를 사용한 느린 테스트

Mocha.js를 사용하면 테스트가 느린 것으로 간주되기 전까지 경과해야 하는 시간을 정의할 수 있습니다. 이 용도로 "this.slow() 메서드를 사용할 수 있습니다. this.slow()에 전달된 숫자는 밀리초 단위의 시간을 나타냅니다.

느린 테스트를 표시하는 데 사용되는 빨간색 `(1506ms)` 표시기에 주의하십시오. 이 테스트는 완전히 실행되는 데 1초(`1000ms`) 이상이 걸렸기 때문에 느린 것으로 간주된다.

### 시간 초과

기본적으로 Mocha.js는 완전히 실행되는 데 2초(`2000ms`)가 넘는 모든 테스트에 대해 시간 초과됩니다. 시간 초과가 발생하면 테스트가 실패한 것으로 표시되고 시간 초과 오류가 발생합니다.

그러나 Mocha.js는 주어진 테스트 스위트, 후크 또는 테스트 케이스에 대해 시간 초과가 발생하기 전에 경과해야 하는 시간을 지정하기 위한 `this.timeout()` 방법을 제공한다. `this.timeout()`에 전달된 숫자는 밀리초 단위의 시간을 나타냅니다.

시간 초과는 서로 다른 수준(스위트, 후크 및 테스트 수준)에서 다르게 구성할 수 있습니다.

0으로 `this.timeout()을 호출하면 시간 초과가 완전히 비활성화됩니다.

## Mocha.js CLI 옵션

지금까지 Mocha.js에서 쓰기 테스트에 사용할 수 있는 모든 도구에 노출되었습니다. 그러나 여전히 Mocha를 사용할 때 활용할 수 있는 유틸리티가 많이 있으며, 그 중 몇 가지는 `mocha` CLI 바이너리를 사용할 때만 사용할 수 있습니다.

`mocha`에 적용할 수 있는 옵션 목록을 가져오려면 다음 명령을 실행합니다.

```undefined
mocha -h
```

프로젝트에서 이 명령을 대신 사용할 수 있습니다.

```bash
npm test -- -h
```

### Mocha.js 테스트 파일 보기

-w, --watch 플래그는 Mocha.js에게 테스트 파일의 변경 사항을 확인하고 테스트를 다시 실행하도록 지시합니다. 이것은 개발 중에 필기 시험에 매우 유용합니다.

```undefined
mocha --watch
```

### 비동기 및 보석

-A, --sync 전용 플래그를 사용하면 모든 테스트가 콜백 함수를 요구하거나 약속을 반환해야 하므로 비동기식으로 작동합니다. 콜백 함수를 지정하지 않거나 약속을 반환하지 않은 테스트는 실패한 것으로 표시됩니다.

```undefined
mocha --async-only
```

-b, --bail 깃발은 Mocha.js가 첫 번째 테스트 실패 후 보석금을 내도록 강요한다.

```undefined
mocha --bail
```

### Mocha.js에서 시간 초과 및 느린 테스트 처리

`-t, --timeout <` 옵션을 사용하면 테스트 사례에 대한 시간 초과를 설정할 수 있습니다. Mocha.js는 기본값 2초를 사용합니다. 밀리초 수 또는 `s` 접미사가 있는 값을 지정하여 시간 초과(초)를 설정할 수 있습니다.

```undefined
mocha -t 3000
```

위의 내용은 다음과 같습니다.

```undefined
mocha --timeout 3s
```

시간 초과를 완전히 사용하지 않으려면 --timeout 0에 해당하는 `--no-timeout`을 사용할 수 있습니다.

```undefined
mocha --no-timeouts
```

또한 Mocha를 사용하면 `-s, --slow option` 옵션을 사용하여 느린 테스트 실행 임계값을 설정할 수 있습니다. 기본 임계값은 75ms입니다. 앞에서 살펴본 것처럼 Mocha.js는 이 임계값을 사용하여 실행하는 데 시간이 너무 오래 걸리는 테스트를 강조 표시합니다.

```undefined
mocha --slow 100
```

### 일치 테스트 실행 중

-g, --grep <pattern> 깃발은 Mocha.js에게 내부적으로 RegExp로 변환된 특정 패턴(정규식)과 일치하는 테스트 및 테스트 제품군을 실행하도록 지시한다.

앞에서 설명한 `-f, --fgrep <string> 플래그는 Mocha.js에 지정된 문자열을 포함하는 테스트 및 테스트 제품군만 실행하도록 지시합니다.

다음 명령은 `array` 문자열이 포함된 모든 테스트 및 테스트 제품군을 실행합니다.

```cpp
mocha -f array
```

### 파일 및 모듈 포함

`-r, --require <` 플래그를 사용하면 코드에서 `require()`를 수동으로 호출하는 대신 어설션 라이브러리 등의 테스트 파일에 사용하는 모듈/라이브러리를 요구할 수 있습니다. 이것은 should.js와 같은 모듈에서 작동합니다. 그러나 모듈의 내보내기에 액세스하려면 해당 모듈이 코드에 있어야 합니다.

```undefined
mocha --require should
```

`--file <` 플래그를 사용하면 먼저 테스트 제품군에 포함할 파일을 하나 이상 추가할 수 있습니다. 이러한 파일에는 테스트에 필요한 설치 로직이 포함되어 있을 수 있습니다. --file 플래그를 여러 번 사용하여 여러 파일을 포함할 수 있습니다.

### Mocha.js 인터페이스 및 리포터

Mocha.js는 쓰기 테스트를 위한 몇 가지 인터페이스를 제공합니다. 기본값은 BDD 인터페이스로, 이 가이드에서 사용 중입니다. `-u, --ui <name>을 사용하면 사용할 다른 인터페이스를 지정할 수 있습니다.

```java
mocha --ui exports
```

`-R, --reporter <` 플래그를 사용하면 테스트 결과를 표시할 리포터를 지정할 수 있습니다. 기본 리포터는 사양이며, 이는 본 가이드 전반에 걸쳐 사용되고 있습니다. 또한 Mocha.js에서는 이 플래그를 사용하여 타사 리포터를 지정할 수 있습니다.

```cpp
mocha -R list
```

## 브라우저의 Mocha.js

Mocha 테스트 주자는 브라우저에서도 사용할 수 있습니다. Mocha.js의 모든 릴리스에는 브라우저에서 사용할 수 있는 //mocha.css 및 /mocha.js의 빌드가 포함되어 있습니다. 다음은 브라우저에서 Mocha 테스트를 실행하기 위한 간단한 설정입니다.

### 공용 파일 설정

프로젝트의 루트에 새 `공용` 디렉토리를 생성합니다. 그런 다음 방금 만든 public 디렉터리에 index.html이라는 새 파일을 만들고 다음을 추가합니다.

여기에서 Mocha 및 Chai 어설션 라이브러리의 정적 CSS 및 JS 파일을 페이지로 가져왔습니다. `` 요소는 테스트 결과를 표시하는 마운트 지점 역할을 합니다.

chai.expect는 chai.expect라는 글로벌 변수에 매핑되어 테스트 스크립트에서 주장할 수 있도록 한다.

Mocha.js는 `mocha`를 호출하여 BDD 인터페이스를 사용하도록 설정되었다.➡bdd`)를 설정하다. 테스트는 mocha.run() 방법을 사용하여 실행됩니다.

그런 다음, 이전에 만든 `public` 디렉토리에 새 `sum.js` 파일을 만들고 다음 내용을 추가합니다.

다음으로, `public` 디렉토리에 다음과 같은 새 `sum.test.js` 파일을 작성합니다.

### 단순 서버 설정

그런 다음 공용 파일을 서비스하도록 단순 서버를 선택적으로 설정할 수 있습니다. 이 데모에서는 `라이브 서버`를 사용합니다. 프로젝트를 위한 종속성으로 다음과 같이 설치합니다.

```undefined
npm install --save-dev live-server
```

패키지의 `스크립트` 섹션을 수정합니다.json 파일은 브라우저에서 공개 파일을 서비스하고 Mocha 테스트를 실행하기 위한 스크립트를 포함합니다. 다음과 같이 보입니다.

여기에 포트 `9000`에서 라이브 서버를 시작하고 `public` 디렉토리에서 파일을 서비스하기 위해 `test:browser` 스크립트를 추가했습니다.

마지막으로 새 스크립트를 실행합니다.

```bash
npm run test:browser
```

이렇게 하면 포트 `9000`에서 서버가 시작되고 브라우저 탭이 시작됩니다. 브라우저의 테스트 출력은 다음과 같아야 합니다.

## 결론

본 가이드에서는 Node.js 및 브라우저에 대한 Mocha.js 테스트의 기본 사항에 대해 설명했습니다. 또한 JavaScript 프로그램에 대한 테스트 기록 및 실행 방법도 시연했습니다.

본 가이드는 매우 광범위하지만 본 가이드가 다루지 않은 모든 세부 사항은 항상 Mocha.js 설명서를 참조할 수 있습니다.